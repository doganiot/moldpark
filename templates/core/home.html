{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}MoldPark - Kulak Kalıbı Üretiminde Dijital Dönüşüm{% endblock %}

{% block content %}
<!-- Modern Hero Section -->
<section class="position-relative overflow-hidden" style="min-height: 100vh; background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);">
    <!-- Animated Background Elements -->
    <div class="position-absolute w-100 h-100" style="z-index: 1;">
        <div class="position-absolute" style="top: 20%; left: 10%; width: 100px; height: 100px; background: linear-gradient(45deg, var(--primary-100), var(--primary-200)); border-radius: 50%; opacity: 0.3; animation: float 6s ease-in-out infinite;"></div>
        <div class="position-absolute" style="bottom: 30%; right: 15%; width: 80px; height: 80px; background: linear-gradient(45deg, var(--primary-200), var(--primary-300)); border-radius: 50%; opacity: 0.2; animation: float 8s ease-in-out infinite reverse;"></div>
    </div>
    
    <div class="container position-relative" style="z-index: 2;">
        <div class="row align-items-center min-vh-100 py-5">
            <div class="col-lg-6">
                <div class="hero-content animate-fade-in-up">
                    <!-- Badge -->
                    <div class="mb-4">
                        <span class="badge bg-primary text-white px-4 py-2 rounded-pill fs-6">
                            <i class="fas fa-rocket me-2"></i>
                            Türkiye'nin En Büyük Kalıp Platformu
                        </span>
                    </div>
                    
                    <!-- Main Headline -->
                    <h1 class="display-4 fw-bold mb-4" style="color: var(--gray-900); line-height: 1.2;">
                        Kulak Kalıbı Üretiminde
                        <span class="text-primary d-block">Dijital Dönüşüm</span>
                    </h1>
                    
                    <!-- Subtitle -->
                    <p class="lead mb-4 text-muted" style="font-size: 1.25rem; max-width: 500px;">
                        AI destekli modelleme, hızlı teslimat ve %99 kalite garantisi ile işitme merkezi ihtiyaçlarınızı karşılıyoruz.
                    </p>
                    
                    <!-- Key Benefits -->
                    <div class="row mb-5">
                        <div class="col-sm-6 mb-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-shrink-0">
                                    <div class="bg-success rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                        <i class="fas fa-clock text-white"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <div class="fw-semibold">24 Saat Teslimat</div>
                                    <small class="text-muted">Hızlı ve güvenilir</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 mb-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-shrink-0">
                                    <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                        <i class="fas fa-shield-check text-white"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <div class="fw-semibold">%99 Kalite Garantisi</div>
                                    <small class="text-muted">Mükemmel sonuçlar</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- CTA Buttons -->
                    {% if not user.is_authenticated %}
                    <div class="d-flex flex-wrap gap-3 mb-4">
                        <a href="{% url 'account_signup' %}" class="btn btn-primary btn-lg px-5 py-3 hover-lift">
                            <i class="fas fa-rocket me-2"></i>
                            Hemen Başlayın
                        </a>
                        <a href="#features" class="btn btn-outline-primary btn-lg px-5 py-3 hover-lift">
                            <i class="fas fa-play me-2"></i>
                            Nasıl Çalışır?
                        </a>
                    </div>
                    {% else %}
                    <div class="d-flex flex-wrap gap-3 mb-4">
                        {% if user.center %}
                        <a href="{% url 'center:dashboard' %}" class="btn btn-primary btn-lg px-5 py-3 hover-lift">
                            <i class="fas fa-tachometer-alt me-2"></i>
                            Dashboard
                        </a>
                        <a href="{% url 'mold:mold_create' %}" class="btn btn-success btn-lg px-5 py-3 hover-lift">
                            <i class="fas fa-plus me-2"></i>
                            Yeni Kalıp
                        </a>
                        {% elif user.producer %}
                        <a href="{% url 'producer:dashboard' %}" class="btn btn-primary btn-lg px-5 py-3 hover-lift">
                            <i class="fas fa-industry me-2"></i>
                            Üretici Paneli
                        </a>
                        <a href="{% url 'producer:order_list' %}" class="btn btn-outline-primary btn-lg px-5 py-3 hover-lift">
                            <i class="fas fa-list me-2"></i>
                            Siparişlerim
                        </a>
                        {% else %}
                        <a href="{% url 'core:admin_dashboard' %}" class="btn btn-primary btn-lg px-5 py-3 hover-lift">
                            <i class="fas fa-tools me-2"></i>
                            Admin Panel
                        </a>
                        {% endif %}
                    </div>
                    {% endif %}
                    
                    <!-- Trust Indicators -->
                    <div class="d-flex flex-wrap align-items-center gap-4 text-muted">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-star text-warning me-1"></i>
                            <span class="small">4.9/5 Müşteri Memnuniyeti</span>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="fas fa-users text-primary me-1"></i>
                            <span class="small">500+ Aktif Merkez</span>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="fas fa-award text-success me-1"></i>
                            <span class="small">ISO 9001 Sertifikalı</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="hero-visual position-relative animate-slide-in-right">
                    <!-- Main Image/Video -->
                    <div class="position-relative">
                        <img src="{% static 'images/moldpark.jpg' %}" alt="MoldPark Platform" 
                             class="img-fluid rounded-3 shadow-lg hover-scale" 
                             style="max-height: 500px; width: 100%; object-fit: cover;">
                        
                        <!-- Play Button Overlay -->
                        <div class="position-absolute top-50 start-50 translate-middle">
                            <button class="btn btn-light rounded-circle shadow-lg animate-bounce-in" 
                                    data-bs-toggle="modal" data-bs-target="#videoModal"
                                    style="width: 80px; height: 80px;">
                                <i class="fas fa-play text-primary" style="font-size: 1.5rem; margin-left: 4px;"></i>
                            </button>
                        </div>
                        
                        <!-- Stats Overlay -->
                        <div class="position-absolute bottom-0 start-0 m-4">
                            <div class="bg-white rounded-2 p-3 shadow-md">
                                <div class="row g-3 text-center">
                                    <div class="col-4">
                                        <div class="h5 mb-0 fw-bold text-primary stat-counter">500</div>
                                        <div class="small text-muted">Kalıp</div>
                                    </div>
                                    <div class="col-4">
                                        <div class="h5 mb-0 fw-bold text-success stat-counter">50</div>
                                        <div class="small text-muted">Merkez</div>
                                    </div>
                                    <div class="col-4">
                                        <div class="h5 mb-0 fw-bold text-warning stat-counter">99</div>
                                        <div class="small text-muted">% Başarı</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section id="features" class="py-5 bg-white">
    <div class="container">
        <!-- Section Header -->
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="display-5 fw-bold mb-4 text-gray-900">
                    Neden MoldPark?
                </h2>
                <p class="lead text-muted mb-4">
                    Modern teknoloji ile geleneksel kalıp üretimini birleştiren platform
                </p>
                <div class="d-inline-flex align-items-center bg-light rounded-pill px-4 py-2">
                    <i class="fas fa-certificate text-primary me-2"></i>
                    <span class="small fw-semibold">Sektörde 10+ Yıl Deneyim</span>
                </div>
            </div>
        </div>
        
        <!-- Features Grid -->
        <div class="row g-4">
            <!-- Feature 1 -->
            <div class="col-lg-4 col-md-6">
                <div class="feature-card h-100 text-center p-5 border rounded-3 hover-lift">
                    <div class="feature-icon mb-4">
                        <div class="d-inline-flex align-items-center justify-content-center bg-primary rounded-circle" 
                             style="width: 80px; height: 80px;">
                            <i class="fas fa-brain text-white" style="font-size: 2rem;"></i>
                        </div>
                    </div>
                    <h4 class="fw-bold mb-3">AI Destekli Modelleme</h4>
                    <p class="text-muted mb-4">
                        Yapay zeka algoritmaları ile otomatik kalıp optimizasyonu ve kalite kontrolü sağlıyoruz.
                    </p>
                    <ul class="list-unstyled text-start small">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Otomatik hata tespiti</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Kalite optimizasyonu</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Hızlı işlem süresi</li>
                    </ul>
                </div>
            </div>
            
            <!-- Feature 2 -->
            <div class="col-lg-4 col-md-6">
                <div class="feature-card h-100 text-center p-5 border rounded-3 hover-lift">
                    <div class="feature-icon mb-4">
                        <div class="d-inline-flex align-items-center justify-content-center bg-success rounded-circle" 
                             style="width: 80px; height: 80px;">
                            <i class="fas fa-clock text-white" style="font-size: 2rem;"></i>
                        </div>
                    </div>
                    <h4 class="fw-bold mb-3">Hızlı Teslimat</h4>
                    <p class="text-muted mb-4">
                        24 saat içinde modelleme, 48 saat içinde fiziksel kalıp teslimatı garantisi.
                    </p>
                    <ul class="list-unstyled text-start small">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Express üretim</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Kargo takibi</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Acil durum desteği</li>
                    </ul>
                </div>
            </div>
            
            <!-- Feature 3 -->
            <div class="col-lg-4 col-md-6">
                <div class="feature-card h-100 text-center p-5 border rounded-3 hover-lift">
                    <div class="feature-icon mb-4">
                        <div class="d-inline-flex align-items-center justify-content-center bg-warning rounded-circle" 
                             style="width: 80px; height: 80px;">
                            <i class="fas fa-shield-alt text-white" style="font-size: 2rem;"></i>
                        </div>
                    </div>
                    <h4 class="fw-bold mb-3">Kalite Garantisi</h4>
                    <p class="text-muted mb-4">
                        %99.5 başarı oranı ile üretilen kalıplar için tam kalite garantisi sunuyoruz.
                    </p>
                    <ul class="list-unstyled text-start small">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Ücretsiz revizyon</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Para iade garantisi</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Kalite sertifikası</li>
                    </ul>
                </div>
            </div>
            
            <!-- Feature 4 -->
            <div class="col-lg-4 col-md-6">
                <div class="feature-card h-100 text-center p-5 border rounded-3 hover-lift">
                    <div class="feature-icon mb-4">
                        <div class="d-inline-flex align-items-center justify-content-center bg-info rounded-circle" 
                             style="width: 80px; height: 80px;">
                            <i class="fas fa-network-wired text-white" style="font-size: 2rem;"></i>
                        </div>
                    </div>
                    <h4 class="fw-bold mb-3">Merkezi Ağ</h4>
                    <p class="text-muted mb-4">
                        Türkiye geneli üretici ağı ile en yakın ve en kaliteli üretici eşleştirmesi.
                    </p>
                    <ul class="list-unstyled text-start small">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Yakınlık bazlı eşleştirme</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Kalite puanlama sistemi</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Yedek üretici desteği</li>
                    </ul>
                </div>
            </div>
            
            <!-- Feature 5 -->
            <div class="col-lg-4 col-md-6">
                <div class="feature-card h-100 text-center p-5 border rounded-3 hover-lift">
                    <div class="feature-icon mb-4">
                        <div class="d-inline-flex align-items-center justify-content-center bg-purple rounded-circle" 
                             style="width: 80px; height: 80px; background: linear-gradient(135deg, #6f42c1, #8a63d2);">
                            <i class="fas fa-chart-line text-white" style="font-size: 2rem;"></i>
                        </div>
                    </div>
                    <h4 class="fw-bold mb-3">Detaylı Analitik</h4>
                    <p class="text-muted mb-4">
                        Gerçek zamanlı takip, performans metrikleri ve gelişmiş raporlama sistemi.
                    </p>
                    <ul class="list-unstyled text-start small">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Canlı sipariş takibi</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Performans raporları</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Trend analizleri</li>
                    </ul>
                </div>
            </div>
            
            <!-- Feature 6 -->
            <div class="col-lg-4 col-md-6">
                <div class="feature-card h-100 text-center p-5 border rounded-3 hover-lift">
                    <div class="feature-icon mb-4">
                        <div class="d-inline-flex align-items-center justify-content-center bg-danger rounded-circle" 
                             style="width: 80px; height: 80px;">
                            <i class="fas fa-headset text-white" style="font-size: 2rem;"></i>
                        </div>
                    </div>
                    <h4 class="fw-bold mb-3">7/24 Destek</h4>
                    <p class="text-muted mb-4">
                        Uzman ekibimiz ile kesintisiz teknik destek ve müşteri hizmetleri.
                    </p>
                    <ul class="list-unstyled text-start small">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Canlı sohbet desteği</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Telefon desteği</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Video görüşme</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Pricing Preview Section -->
<section id="pricing" class="py-5" style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="display-5 fw-bold mb-4">Esnek Fiyatlandırma Planları</h2>
                <p class="lead text-muted">İhtiyacınıza uygun planı seçin, dilediğiniz zaman değiştirin</p>
            </div>
        </div>
        
        <div class="row g-4 justify-content-center">
            {% for plan in plans|slice:":3" %}
            <div class="col-lg-4 col-md-6">
                <div class="card border-0 shadow-lg h-100 {% if plan.plan_type == 'center_professional' %}border-primary position-relative{% endif %}">
                    {% if plan.plan_type == 'center_professional' %}
                    <div class="position-absolute top-0 start-50 translate-middle">
                        <span class="badge bg-primary px-4 py-2 rounded-pill">
                            <i class="fas fa-star me-1"></i>En Popüler
                        </span>
                    </div>
                    {% endif %}
                    
                    <div class="card-header bg-white text-center border-0 pt-5">
                        <div class="mb-3">
                            {% if plan.plan_type == 'pay_per_use' %}
                                <i class="fas fa-credit-card fa-3x text-secondary"></i>
                            {% elif plan.plan_type == 'center_basic' %}
                                <i class="fas fa-building fa-3x text-info"></i>
                            {% elif plan.plan_type == 'center_professional' %}
                                <i class="fas fa-crown fa-3x text-primary"></i>
                            {% endif %}
                        </div>
                        <h4 class="fw-bold">{{ plan.name }}</h4>
                        <p class="text-muted small">{{ plan.description|truncatechars:60 }}</p>
                    </div>
                    
                    <div class="card-body text-center">
                        <div class="mb-4">
                            <div class="display-4 fw-bold text-dark">
                                ${{ plan.price_usd }}
                                {% if plan.is_monthly %}<small class="fs-6 text-muted">/ay</small>{% endif %}
                            </div>
                            <div class="text-muted">₺{{ plan.price_try }}{% if plan.is_monthly %}/ay{% endif %}</div>
                        </div>
                        
                        <div class="mb-4">
                            {% if plan.monthly_model_limit %}
                                <div class="badge bg-light text-dark fs-6 px-3 py-2">
                                    {{ plan.monthly_model_limit }} model/ay
                                </div>
                            {% else %}
                                <div class="badge bg-light text-dark fs-6 px-3 py-2">
                                    {% if plan.is_monthly %}Sınırsız{% else %}Model başına{% endif %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="card-footer bg-white border-0 text-center pb-4">
                        <a href="{% url 'core:pricing' %}" 
                           class="btn {% if plan.plan_type == 'center_professional' %}btn-primary{% else %}btn-outline-primary{% endif %} w-100">
                            Detayları İncele
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{% url 'core:pricing' %}" class="btn btn-lg btn-primary px-5 py-3 hover-lift">
                <i class="fas fa-eye me-2"></i>
                Tüm Planları Görüntüle
            </a>
        </div>
    </div>
</section>

<!-- Registration Types Section -->
<section id="register" class="py-5 bg-white">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="display-5 fw-bold mb-4">Bugün Başlayın</h2>
                <p class="lead text-muted">Size uygun hesap türünü seçin ve MoldPark ailesine katılın</p>
            </div>
        </div>
        
        <div class="row g-4 justify-content-center">
            <!-- İşitme Merkezi -->
            <div class="col-lg-5 col-md-6">
                <div class="card border-0 shadow-lg h-100 hover-lift">
                    <div class="card-body p-5 text-center">
                        <div class="mb-4">
                            <div class="d-inline-flex align-items-center justify-content-center bg-primary rounded-circle" 
                                 style="width: 100px; height: 100px;">
                                <i class="fas fa-clinic-medical text-white" style="font-size: 3rem;"></i>
                            </div>
                        </div>
                        
                        <h3 class="fw-bold mb-3">İşitme Merkezi</h3>
                        <p class="text-muted mb-4">Kalıp siparişi verin, süreçleri takip edin</p>
                        
                        <ul class="list-unstyled text-start mb-4">
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Kalıp sipariş yönetimi</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Gerçek zamanlı takip</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Kalite değerlendirme</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Revizyon talepleri</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Detaylı raporlama</li>
                        </ul>
                        
                        <a href="{% url 'account_signup' %}" class="btn btn-primary btn-lg w-100 hover-lift">
                            <i class="fas fa-user-plus me-2"></i>
                            İşitme Merkezi Kaydı
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Üretici Merkez -->
            <div class="col-lg-5 col-md-6">
                <div class="card border-0 shadow-lg h-100 hover-lift">
                    <div class="card-body p-5 text-center">
                        <div class="mb-4">
                            <div class="d-inline-flex align-items-center justify-content-center bg-success rounded-circle" 
                                 style="width: 100px; height: 100px;">
                                <i class="fas fa-industry text-white" style="font-size: 3rem;"></i>
                            </div>
                        </div>
                        
                        <h3 class="fw-bold mb-3">Üretici Merkez</h3>
                        <p class="text-muted mb-4">Kalıp üretimi yapın, gelir elde edin</p>
                        
                        <ul class="list-unstyled text-start mb-4">
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Sipariş alma sistemi</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Üretim yönetimi</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Kalite kontrol</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Gelir takibi</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Performans analitiği</li>
                        </ul>
                        
                        <a href="{% url 'producer:register' %}" class="btn btn-success btn-lg w-100 hover-lift">
                            <i class="fas fa-industry me-2"></i>
                            Üretici Merkez Kaydı
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="py-5" style="background: linear-gradient(135deg, var(--primary-600) 0%, var(--primary-700) 100%);">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 text-white">
                <h2 class="display-6 fw-bold mb-3">Hazır mısınız?</h2>
                <p class="lead mb-0">Bugün MoldPark'a katılın ve kulak kalıbı üretiminde farkı yaşayın. Ücretsiz deneme fırsatını kaçırmayın!</p>
            </div>
            <div class="col-lg-4 text-lg-end mt-4 mt-lg-0">
                {% if not user.is_authenticated %}
                <a href="{% url 'account_signup' %}" class="btn btn-light btn-lg px-5 py-3 hover-lift">
                    <i class="fas fa-rocket me-2"></i>
                    Ücretsiz Başlayın
                </a>
                {% else %}
                <a href="{% if user.center %}{% url 'center:dashboard' %}{% elif user.producer %}{% url 'producer:dashboard' %}{% else %}{% url 'core:admin_dashboard' %}{% endif %}" 
                   class="btn btn-light btn-lg px-5 py-3 hover-lift">
                    <i class="fas fa-arrow-right me-2"></i>
                    Dashboard'a Git
                </a>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- Video Modal -->
<div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content border-0 rounded-3">
            <div class="modal-header border-0">
                <h5 class="modal-title fw-bold" id="videoModalLabel">MoldPark Platform Tanıtımı</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-0">
                <div class="ratio ratio-16x9">
                    <video controls class="rounded-bottom">
                        <source src="{% static 'images/moldpark.mp4' %}" type="video/mp4">
                        Tarayıcınız video oynatmayı desteklemiyor.
                    </video>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Animation Keyframes -->
<style>
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}
</style>
{% endblock %} 